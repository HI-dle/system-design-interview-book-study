# 2단계 계략적인 설계안 제시 및 동의 구하기

---

 - 효과적 면접을 위한 4단계 접근법 중 1단계 문제 이해 및 설계 범위 확정 이후 개략적인 설계안을 제시하고 면접관의 동의를 얻는 것이다. 이과정은 면접관과 협력하며 진행하면 좋다.

아래와 같은 방식으로 진행하는 것을 권장한다.

> 1. 설계안에 대한 최초 청사진을 제시하고 의견을 구하라. 면접관을 마치 팀원인 것처럼 대하라. 훌륭한 면접관들은 지원자들과 대화하고 설계과정에 개입하기를 즐긴다.
> 2. 화이트보드나 종이에 핵심 컴포넌트를 포함하는 다이어그램을 그려라. 클라이언트(모바일웹), API, 웹서버, 데이터저장소, 캐시, CDN, 메시지큐
     같은 것들이 포함될 수 있을 것이다.
> 3. 이 최초 설계안이 시스템 규모에 관계된 제약사항들을 만족하는지를 개략적으로 계산해보라. 계산과정은 소리내어 설명하라. 이런 개략적 추정이 필요한지는 면접관에게 미리 물어보도록 하자.

- 가능하다면 시스템의 구체적인 사용 사례도 몇 가지 살펴 보는 것이 좋다. 그렇다면 개략적인 설계안을 잡아 나가고 미처 고려하지 못한 에지 케이스(edge case)까지 발견하는 도움이 될 것이다.
- 이 단계에서 API 엔드 포인트나 데이터베이스 스키마도 보여야 하는가는 면접관 질문에 따라 다르다. 큰 규모의 설계 문제라면 지금에서는 너무 세부적인 내용이기 때문에 어떤 특정한 요구가 있지 않는다면 면접관의 의견을 물어보고 진행하면 된다.


 - 예제에서 뉴스 피드를 시스템에 대해 설계 하는데 생성과 처리 플로우로 나누어 생각해 볼 수 있다.
 - 피드 발행: 사용자가 포스트를 올리면 관련된 데이터가 캐시/데이터베이스에 기록되고, 해당 사용자의 친구(friend) 뉴스 피드에 뜨게 된다.
 - 피드 생성: 어떤 사용자의 뉴스 피드는 해당 사용자 친구들의 포스트를 시간 역순으로 (최신 포스트부터 오래된 포스트 순으로) 정렬하여 만든다.

>edge case -> 일반적인 흐름과는 다른 경계 상황이나 극단적인 입력값, 또는 예상하지 못한 조건을 말한다.
> 간단하게는 "이런 경우에도 잘 작동할까?"라고 질문할 수 있는 특이한 상황이다.
>
> 예시
> 1. 로그인 시 잘못된 형식의 이메일이 들어오는 경우
> 2. 사용자가 비밀번호 없이 로그인 요청을 보낸 경우
> 3. 동시에 수만 명이 접속해서 트래픽이 몰리는 경우
> 4. 요청은 왔는데 DB 연결이 끊긴 상태

> 엣지 케이스를 체크하는 이유는 다음과 같다.
> 
> 프로그램이 비정상 종료되지 않도록 하기 위해
> 예외 상황에서도 시스템이 예측 가능한 동작을 하도록 하기 위해
> 안정성과 견고함을 확보하기 위해

다시 본론으로 돌아와 피드 발행과 피드 생성 플로우를 각각 개략적으로 그린 것이다.
![스크린샷 2025-05-20 오전 3.01.20.png](..%2F..%2F..%2F..%2F..%2F..%2F..%2Fvar%2Ffolders%2F25%2Fjx43h9k52kgd75vkylj43bdw0000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_nIoVk3%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-05-20%20%EC%98%A4%EC%A0%84%203.01.20.png)

- 각 피드 발행과 피드 생성에 맞는 시스템 설계를 각각 구현한 설계도라 볼 수 있을 것 같다.